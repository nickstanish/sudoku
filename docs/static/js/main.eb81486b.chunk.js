(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),l=n.n(o),c=(n(15),n(16),n(3)),i=n(6),u=n(2),s=n(1),f=n(7),m=n(8),d=window.qqwing;function v(e){var t=new d;if(t.setPrintStyle(d.PrintStyle.ONE_LINE),t.setRecordHistory(!0),e){var n=e.split("").map(function(e){if(0!==e)return parseInt(e,10)});t.setPuzzle(n)}else t.generatePuzzle();return t.countSolutions(),t.solve(),t}var h=function(){function e(t,n){var a=this;if(Object(f.a)(this,e),n)Object.getOwnPropertyNames(n).forEach(function(e){a[e]=n[e]});else{var r=v();this.difficulty=r.getDifficultyAsString(),this.initialBoard=this.board=r.getPuzzleString().trim()}}return Object(m.a)(e,[{key:"getDifficulty",value:function(){return this.difficulty}},{key:"solve",value:function(e){return v(this.initialBoard).getSolutionString().trim()}},{key:"isSolved",value:function(){return this.solve(this.board)===this.board}},{key:"hasError",value:function(){return!this.solve(this.board)}},{key:"getCells",value:function(){var e=Array.from(this.initialBoard);return Array.from(this.board).map(function(t,n){return{hint:"."!==e[n],value:"."===t?"":t,row:Math.floor(n/9),column:n%9,index:n}})}},{key:"getValueAt",value:function(e){if(null===e)return null;var t=this.board.charAt(e);return"."===t?"":t}},{key:"getValueCounts",value:function(){var e={};return Array.from(this.board).forEach(function(t){var n="."===t?"":t;e[n]?e[n]++:e[n]=1}),e}},{key:"clone",value:function(t){return new e(null,Object.assign({},this.toHash(),t))}},{key:"toHash",value:function(){var e=this,t={};return Object.getOwnPropertyNames(this).forEach(function(n){t[n]=e[n]}),t}},{key:"updateCell",value:function(e,t){if(this.getCells()[e].hint)return this;var n=""===t?".":t,a=this.board.substring(0,e)+n+this.board.substring(e+1);return this.clone({board:a})}}]),e}();n(17),n(18);function p(e){var t={"data-selected":e.selected,"data-hint":e.hint,onClick:e.onSelect},n=["Game__Cell"];return e.hightlightValue&&(e.value===e.hightlightValue||!e.value&&e.pencils&&e.pencils.has(e.hightlightValue))&&n.push("Game__Cell--highlight"),r.a.createElement("div",Object.assign({className:n.join(" ")},t),e.value,""===e.value&&e.pencils&&r.a.createElement("ul",{className:"Game__Cell__Pencils"},Array(9).fill().map(function(t,n){var a=n+1;return r.a.createElement("li",{className:"Pencils__Pencil",key:n},r.a.createElement("span",null,e.pencils.has(a.toString())?a:null))})))}n(19),n(20);function b(e){var t=["Grid"];e.className&&t.push(e.className);var n=t.join(" ");return r.a.createElement("div",{className:n},e.children)}function g(e){return r.a.createElement(b,{className:"CellGroup"},e.group.map(e.renderCell))}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=r.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),E=r.a.createElement("line",{x1:18,y1:9,x2:12,y2:15}),k=r.a.createElement("line",{x1:12,y1:9,x2:18,y2:15}),j=function(e){var t=e.svgRef,n=w(e,["svgRef"]);return r.a.createElement("svg",y({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-delete",ref:t},n),O,E,k)},N=r.a.forwardRef(function(e,t){return r.a.createElement(j,y({svgRef:t},e))});n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=r.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}),A=function(e){var t=e.svgRef,n=S(e,["svgRef"]);return r.a.createElement("svg",_({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit-2",ref:t},n),x)},P=r.a.forwardRef(function(e,t){return r.a.createElement(A,_({svgRef:t},e))});n.p;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var B=r.a.createElement("line",{x1:19,y1:12,x2:5,y2:12}),G=r.a.createElement("polyline",{points:"12 19 5 12 12 5"}),L=function(e){var t=e.svgRef,n=R(e,["svgRef"]);return r.a.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-left",ref:t},n),B,G)},D=r.a.forwardRef(function(e,t){return r.a.createElement(L,C({svgRef:t},e))});n.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var z=r.a.createElement("line",{x1:5,y1:12,x2:19,y2:12}),I=r.a.createElement("polyline",{points:"12 5 19 12 12 19"}),U=function(e){var t=e.svgRef,n=V(e,["svgRef"]);return r.a.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",ref:t},n),z,I)},W=r.a.forwardRef(function(e,t){return r.a.createElement(U,M({svgRef:t},e))});n.p;function H(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2)[1];Object(a.useEffect)(function(){return function(e,t){var n=new Date,a=!0,r=null;return r=window.requestAnimationFrame(function o(){if(a){var l=new Date;l-n>t&&(n=l,e.call()),r=window.requestAnimationFrame(o)}}),function(){a=!1,null!==r&&window.cancelAnimationFrame(r)}}(function(){n(function(e){return e+1})},e)})}var q=250;function F(e){H(q);var t=((e.stopAt||new Date)-e.startAt)/1e3,n=Math.floor(t/60),a=Math.floor(t%60);return r.a.createElement("span",null,function(e,t){var n=t<10?"0".concat(t):t.toString();return"".concat(e,":").concat(n)}(n,a))}var J=function(e){var t=function(t){return r.a.createElement(p,{key:t.index,selected:e.cursor===t.index,onSelect:function(){e.updateCursor(t.index)},hint:t.hint,pencils:e.pencils[t.index],value:t.value,hightlightValue:e.sudoku.getValueAt(e.cursor)})},n=function(e){var t=function(e,t){for(var n=[],a=0;a<t;a++)n.push(e.slice(a*t,(a+1)*t));return n}(e,9);return Array(9).fill().map(function(e,n){var a=3*Math.floor(n/3),r=n%3;return[].concat(Object(u.a)(t[a].slice(3*r,3*(r+1))),Object(u.a)(t[a+1].slice(3*r,3*(r+1))),Object(u.a)(t[a+2].slice(3*r,3*(r+1))))})}(e.sudoku.getCells()),a=e.sudoku.getValueCounts();return r.a.createElement("div",null,r.a.createElement("header",{className:"Game__Header"},r.a.createElement("div",null,e.sudoku.getDifficulty()),r.a.createElement("div",null,r.a.createElement(F,{startAt:e.startAt,stopAt:e.completedAt}))),r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game__Table"},r.a.createElement(b,{className:"BoardGrid"},n.map(function(e,n){return r.a.createElement(g,{key:n,group:e,renderCell:t})})))),null!==e.completedAt&&r.a.createElement("h2",null,"Complete!"),r.a.createElement("div",{className:"Game__Numpad"},r.a.createElement("div",{className:"Game__NumButtonContainer"},Array(9).fill().map(function(t,n){var o=n+1;return r.a.createElement("button",{key:o,className:"Game__NumButton Game__NumKey","data-count":a[o]||0,"data-error":a[o]>9,onClick:function(){return e.updateValue(o.toString())}},o)}),r.a.createElement("div",{className:"Game__NumButton"}),r.a.createElement("button",{className:"Game__NumButton",onClick:function(){return e.updateValue("")}},r.a.createElement("span",null,r.a.createElement(N,{"aria-label":"Delete"}))),r.a.createElement("button",{className:"Game__NumButton","data-active":e.pencilMode,onClick:e.togglePencilMode},r.a.createElement("span",null,r.a.createElement(P,{"aria-label":"Pencil"}))),r.a.createElement("button",{className:"Game__NumButton",onClick:e.onUndo,disabled:!e.hasUndo},r.a.createElement("span",null,r.a.createElement(D,{"aria-label":"Undo"}))),r.a.createElement("div",{className:"Game__NumButton"}),r.a.createElement("button",{className:"Game__NumButton",onClick:e.onRedo,disabled:!e.hasRedo},r.a.createElement("span",null,r.a.createElement(W,{"aria-label":"Redo"}))))),r.a.createElement("div",{className:"Game__ButtonBar"},r.a.createElement("button",{onClick:e.solve},"Solve"),r.a.createElement("button",{onClick:e.newGame},"New Game")))},K=function(e){var t=function(e){var t=Object(a.useState)([e]),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)(0),c=Object(s.a)(l,2),i=c[0],f=c[1];return{current:r[i],reset:function(e){o([e]),f(0)},applyNext:function(){f(Math.min(i+1,r.length))},applyPrevious:function(){f(Math.max(i-1,0))},addState:function(e){o([].concat(Object(u.a)(r.slice(0,i+1)),[e])),f(i+1)},hasNext:i<r.length-1,hasPrevious:i>0}}(new h),n=t.current,o=t.reset,l=t.applyNext,f=t.applyPrevious,m=t.addState,d=t.hasNext,v=t.hasPrevious,p=Object(a.useState)(0),b=Object(s.a)(p,2),g=b[0],y=b[1],w=Object(a.useState)(new Date),O=Object(s.a)(w,2),E=O[0],k=O[1],j=Object(a.useState)(null),N=Object(s.a)(j,2),_=N[0],S=N[1],x=Object(a.useState)(!1),A=Object(s.a)(x,2),P=A[0],C=A[1],R=Object(a.useState)({}),B=Object(s.a)(R,2),G=B[0],L=B[1],D=function(){C(!P)},M=function(e){if(null!==g)if(P){var t=G[g],a=new Set(t);""!==e?a.has(e)?a.delete(e):a.add(e):a.clear(),L(Object(i.a)({},G,Object(c.a)({},g,a)))}else{var r=n.updateCell(g,e);m(r),r.isSolved()&&S(new Date)}},V=function(e){switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Backspace"].includes(e.key)&&e.preventDefault(),e.key){case"ArrowUp":y((81+g-9)%81);break;case"ArrowDown":y((81+g+9)%81);break;case"ArrowLeft":y((81+g-1)%81);break;case"ArrowRight":y((81+g+1)%81);break;case"p":case"P":D();break;case"Backspace":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":var t="Backspace"===e.key?"":e.key;M(t)}};Object(a.useEffect)(function(){return document.addEventListener("keydown",V),function(){document.removeEventListener("keydown",V)}});var z={completedAt:_,cursor:g,hasUndo:v,hasRedo:d,newGame:function(){o(new h),k(new Date),S(null),y(0),C(!1),L({})},onRedo:l,onUndo:f,pencilMode:P,pencils:G,solve:function(){m(n.clone({board:n.solve()})),S(new Date)},startAt:E,sudoku:n,togglePencilMode:D,updateCursor:y,updateValue:M};return r.a.createElement(J,z)};var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.eb81486b.chunk.js.map