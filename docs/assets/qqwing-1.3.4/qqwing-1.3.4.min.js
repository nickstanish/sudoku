/*!
 * qqwing - Sudoku solver and generator
 * Copyright (C) 2014 Stephen Ostermiller
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */
;var qqwing=function(){var ag=function(i){return i%qqwing.ROW_COL_SEC_SIZE};var K=function(i){return Math.floor(i/qqwing.ROW_COL_SEC_SIZE)};var N=function(i){return Math.floor(i/qqwing.SEC_GROUP_SIZE)*qqwing.SEC_GROUP_SIZE+Math.floor(ag(i)/qqwing.GRID_SIZE)*qqwing.GRID_SIZE};var o=function(i){return Math.floor(i/qqwing.SEC_GROUP_SIZE)*qqwing.GRID_SIZE+Math.floor(ag(i)/qqwing.GRID_SIZE)};var h=function(i){return qqwing.ROW_COL_SEC_SIZE*i};var X=function(i){return i};var U=function(i){return(i%qqwing.GRID_SIZE*qqwing.GRID_SIZE)+Math.floor(i/qqwing.GRID_SIZE)*qqwing.SEC_GROUP_SIZE};var aa=function(ah,i){return ah+(qqwing.ROW_COL_SEC_SIZE*i)};var j=function(ah,i){return(ah*qqwing.ROW_COL_SEC_SIZE)+i};var C=function(i,ah){return U(i)+Math.floor(ah/qqwing.GRID_SIZE)*qqwing.ROW_COL_SEC_SIZE+(ah%qqwing.GRID_SIZE)};var L=function(i){if((typeof console!="undefined")&&console.log){console.log(i)}};var W=function(i){if((typeof process!="undefined")&&process.stdout&&process.stdout.write){process.stdout.write(i)}else{L(i)}};var z=new Array(qqwing.BOARD_SIZE);var c=new Array(qqwing.BOARD_SIZE);var l=new Array(qqwing.BOARD_SIZE);var v=new Array(qqwing.POSSIBILITY_SIZE);var ad=new Array(qqwing.BOARD_SIZE);for(var Z=0;Z<qqwing.BOARD_SIZE;Z++){ad[Z]=Z}var a=new Array(qqwing.ROW_COL_SEC_SIZE);for(var Z=0;Z<qqwing.ROW_COL_SEC_SIZE;Z++){a[Z]=Z}var k=false;var ae=false;var q=[];var H=[];var S=qqwing.PrintStyle.READABLE;var x=0;var O=function(){for(var ak=0;ak<qqwing.BOARD_SIZE;ak++){c[ak]=0}for(var ak=0;ak<qqwing.BOARD_SIZE;ak++){l[ak]=0}for(var ak=0;ak<qqwing.POSSIBILITY_SIZE;ak++){v[ak]=0}q=[];H=[];var aj=1;for(var ah=0;ah<qqwing.BOARD_SIZE;ah++){if(z[ah]>0){var ai=z[ah]-1;var al=aa(ai,ah);var am=z[ah];if(v[al]!=0){return false}m.call(this,ah,aj,am);if(ae||k){D.call(this,new this.LogItem(aj,qqwing.LogType.GIVEN,am,ah))}}}return true};var B=function(i){if(t.call(this,i)){return true}if(f.call(this,i)){return true}if(u.call(this,i)){return true}if(R.call(this,i)){return true}if(af.call(this,i)){return true}if(p.call(this,i)){return true}if(V.call(this,i)){return true}if(F.call(this,i)){return true}if(I.call(this,i)){return true}if(e.call(this,i)){return true}if(A.call(this,i)){return true}if(T.call(this,i)){return true}return false};var t=function(ai){for(var i=0;i<qqwing.BOARD_SIZE;i++){if(c[i]==0){var al=0;var aj=0;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var ak=aa(ah,i);if(v[ak]==0){al++;aj=ah+1}}if(al==1){m.call(this,i,ai,aj);if(ae||k){D.call(this,new this.LogItem(ai,qqwing.LogType.SINGLE,aj,i))}return true}}}return false};var u=function(am){for(var ao=0;ao<qqwing.ROW_COL_SEC_SIZE;ao++){for(var an=0;an<qqwing.ROW_COL_SEC_SIZE;an++){var aj=0;var al=0;for(var i=0;i<qqwing.ROW_COL_SEC_SIZE;i++){var ai=(ao*qqwing.ROW_COL_SEC_SIZE)+i;var ah=aa(an,ai);if(v[ah]==0){aj++;al=ai}}if(aj==1){var ak=an+1;if(ae||k){D.call(this,new this.LogItem(am,qqwing.LogType.HIDDEN_SINGLE_ROW,ak,al))}m.call(this,al,am,ak);return true}}}return false};var R=function(am){for(var i=0;i<qqwing.ROW_COL_SEC_SIZE;i++){for(var an=0;an<qqwing.ROW_COL_SEC_SIZE;an++){var aj=0;var al=0;for(var ao=0;ao<qqwing.ROW_COL_SEC_SIZE;ao++){var ai=j(ao,i);var ah=aa(an,ai);if(v[ah]==0){aj++;al=ai}}if(aj==1){var ak=an+1;if(ae||k){D.call(this,new this.LogItem(am,qqwing.LogType.HIDDEN_SINGLE_COLUMN,ak,al))}m.call(this,al,am,ak);return true}}}return false};var f=function(aq){for(var an=0;an<qqwing.ROW_COL_SEC_SIZE;an++){var aj=U(an);for(var ar=0;ar<qqwing.ROW_COL_SEC_SIZE;ar++){var am=0;var ap=0;for(var ak=0;ak<qqwing.GRID_SIZE;ak++){for(var ai=0;ai<qqwing.GRID_SIZE;ai++){var al=aj+ak+qqwing.ROW_COL_SEC_SIZE*ai;var ah=aa(ar,al);if(v[ah]==0){am++;ap=al}}}if(am==1){var ao=ar+1;if(ae||k){D.call(this,new this.LogItem(aq,qqwing.LogType.HIDDEN_SINGLE_SECTION,ao,ap))}m.call(this,ap,aq,ao);return true}}}return false};var y=function(aj,ao){var al=0;var ah=d.call(this);for(var ak=0;ak<qqwing.ROW_COL_SEC_SIZE;ak++){var ai=a[ak];var am=aa(ai,ah);if(v[am]==0){if(al==ao){var an=ai+1;if(ae||k){D.call(this,new this.LogItem(aj,qqwing.LogType.GUESS,an,ah))}m.call(this,ah,aj,an);return true}al++}}return false};var Q=function(){for(var i=0;i<qqwing.BOARD_SIZE;i++){if(c[i]==0){var aj=0;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var ai=aa(ah,i);if(v[ai]==0){aj++}}if(aj==0){return true}}}return false};var M=function(ah){if(ae||k){D.call(this,new this.LogItem(ah,qqwing.LogType.ROLLBACK))}for(var ai=0;ai<qqwing.BOARD_SIZE;ai++){if(l[ai]==ah){l[ai]=0;c[ai]=0}}for(var ai=0;ai<qqwing.POSSIBILITY_SIZE;ai++){if(v[ai]==ah){v[ai]=0}}while(H.length>0&&H[H.length-1]==ah){H.pop()}};var p=function(au){for(var av=0;av<qqwing.ROW_COL_SEC_SIZE;av++){for(var ar=0;ar<qqwing.ROW_COL_SEC_SIZE;ar++){var an=U(ar);var ah=true;var ai=-1;for(var am=0;am<qqwing.GRID_SIZE;am++){for(var ao=0;ao<qqwing.GRID_SIZE;ao++){var at=an+ao+(qqwing.ROW_COL_SEC_SIZE*am);var al=aa(av,at);if(v[al]==0){if(ai==-1||ai==am){ai=am}else{ah=false}}}}if(ah&&ai!=-1){var aj=false;var aw=K(an)+ai;var ak=h(aw);for(var ao=0;ao<qqwing.ROW_COL_SEC_SIZE;ao++){var ap=ak+ao;var aq=o(ap);var al=aa(av,ap);if(ar!=aq&&v[al]==0){v[al]=au;aj=true}}if(aj){if(ae||k){D.call(this,new this.LogItem(au,qqwing.LogType.POINTING_PAIR_TRIPLE_ROW,av+1,ak))}return true}}}}return false};var F=function(av){for(var aw=0;aw<qqwing.ROW_COL_SEC_SIZE;aw++){for(var ay=0;ay<qqwing.ROW_COL_SEC_SIZE;ay++){var aj=h(ay);var aq=true;var at=-1;for(var an=0;an<qqwing.GRID_SIZE;an++){for(var al=0;al<qqwing.GRID_SIZE;al++){var ai=an*qqwing.GRID_SIZE+al;var ao=j(ay,ai);var ak=aa(aw,ao);if(v[ak]==0){if(at==-1||at==an){at=an}else{aq=false}}}}if(aq&&at!=-1){var ah=false;var ai=qqwing.GRID_SIZE*at;var am=N(j(ay,ai));var ar=K(am);var ax=ag(am);for(var an=0;an<qqwing.GRID_SIZE;an++){for(var al=0;al<qqwing.GRID_SIZE;al++){var au=ar+an;var ap=ax+al;var ao=j(au,ap);var ak=aa(aw,ao);if(ay!=au&&v[ak]==0){v[ak]=av;ah=true}}}if(ah){if(ae||k){D.call(this,new this.LogItem(av,qqwing.LogType.ROW_BOX,aw+1,aj))}return true}}}}return false};var I=function(av){for(var aw=0;aw<qqwing.ROW_COL_SEC_SIZE;aw++){for(var ay=0;ay<qqwing.ROW_COL_SEC_SIZE;ay++){var aj=h(ay);var aq=true;var at=-1;for(var an=0;an<qqwing.GRID_SIZE;an++){for(var al=0;al<qqwing.GRID_SIZE;al++){var ai=an*qqwing.GRID_SIZE+al;var ao=j(ay,ai);var ak=aa(aw,ao);if(v[ak]==0){if(at==-1||at==an){at=an}else{aq=false}}}}if(aq&&at!=-1){var ah=false;var ai=qqwing.GRID_SIZE*at;var am=N(j(ay,ai));var ar=K(am);var ax=ag(am);for(var an=0;an<qqwing.GRID_SIZE;an++){for(var al=0;al<qqwing.GRID_SIZE;al++){var au=ar+an;var ap=ax+al;var ao=j(au,ap);var ak=aa(aw,ao);if(ay!=au&&v[ak]==0){v[ak]=av;ah=true}}}if(ah){if(ae||k){D.call(this,new this.LogItem(av,qqwing.LogType.ROW_BOX,aw+1,aj))}return true}}}}return false};var V=function(av){for(var aw=0;aw<qqwing.ROW_COL_SEC_SIZE;aw++){for(var at=0;at<qqwing.ROW_COL_SEC_SIZE;at++){var ao=U(at);var aj=true;var am=-1;for(var ap=0;ap<qqwing.GRID_SIZE;ap++){for(var al=0;al<qqwing.GRID_SIZE;al++){var au=ao+ap+(qqwing.ROW_COL_SEC_SIZE*al);var ak=aa(aw,au);if(v[ak]==0){if(am==-1||am==ap){am=ap}else{aj=false}}}}if(aj&&am!=-1){var ai=false;var ah=ag(ao)+am;var an=X(ah);for(var ap=0;ap<qqwing.ROW_COL_SEC_SIZE;ap++){var aq=an+(qqwing.ROW_COL_SEC_SIZE*ap);var ar=o(aq);var ak=aa(aw,aq);if(at!=ar&&v[ak]==0){v[ak]=av;ai=true}}if(ai){if(ae||k){D.call(this,new this.LogItem(av,qqwing.LogType.POINTING_PAIR_TRIPLE_COLUMN,aw+1,an))}return true}}}}return false};var e=function(ax){for(var aj=0;aj<qqwing.ROW_COL_SEC_SIZE;aj++){for(var ak=0;ak<qqwing.ROW_COL_SEC_SIZE;ak++){var aq=-1;var ap=-1;var al=0;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var az=j(aj,ah);var i=aa(ak,az);if(v[i]==0){if(aq==-1||aq==ah){aq=ah}else{if(ap==-1||ap==ah){ap=ah}}al++}}if(al==2){for(var ay=ak+1;ay<qqwing.ROW_COL_SEC_SIZE;ay++){var ao=-1;var an=-1;var am=0;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var az=j(aj,ah);var i=aa(ay,az);if(v[i]==0){if(ao==-1||ao==ah){ao=ah}else{if(an==-1||an==ah){an=ah}}am++}}if(am==2&&aq==ao&&ap==an){var ai=false;for(var aw=0;aw<qqwing.ROW_COL_SEC_SIZE;aw++){if(aw!=ak&&aw!=ay){var av=j(aj,aq);var at=j(aj,ap);var au=aa(aw,av);var ar=aa(aw,at);if(v[au]==0){v[au]=ax;ai=true}if(v[ar]==0){v[ar]=ax;ai=true}}}if(ai){if(ae||k){D.call(this,new this.LogItem(ax,qqwing.LogType.HIDDEN_PAIR_ROW,ak+1,j(aj,aq)))}return true}}}}}}return false};var A=function(ax){for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){for(var ak=0;ak<qqwing.ROW_COL_SEC_SIZE;ak++){var av=-1;var ar=-1;var al=0;for(var aj=0;aj<qqwing.ROW_COL_SEC_SIZE;aj++){var az=j(aj,ah);var i=aa(ak,az);if(v[i]==0){if(av==-1||av==aj){av=aj}else{if(ar==-1||ar==aj){ar=aj}}al++}}if(al==2){for(var ay=ak+1;ay<qqwing.ROW_COL_SEC_SIZE;ay++){var ao=-1;var an=-1;var am=0;for(var aj=0;aj<qqwing.ROW_COL_SEC_SIZE;aj++){var az=j(aj,ah);var i=aa(ay,az);if(v[i]==0){if(ao==-1||ao==aj){ao=aj}else{if(an==-1||an==aj){an=aj}}am++}}if(am==2&&av==ao&&ar==an){var ai=false;for(var aw=0;aw<qqwing.ROW_COL_SEC_SIZE;aw++){if(aw!=ak&&aw!=ay){var au=j(av,ah);var aq=j(ar,ah);var at=aa(aw,au);var ap=aa(aw,aq);if(v[at]==0){v[at]=ax;ai=true}if(v[ap]==0){v[ap]=ax;ai=true}}}if(ai){if(ae||k){D.call(this,new this.LogItem(ax,qqwing.LogType.HIDDEN_PAIR_COLUMN,ak+1,j(av,ah)))}return true}}}}}}return false};var T=function(ax){for(var am=0;am<qqwing.ROW_COL_SEC_SIZE;am++){for(var an=0;an<qqwing.ROW_COL_SEC_SIZE;an++){var al=-1;var ak=-1;var ao=0;for(var av=0;av<qqwing.ROW_COL_SEC_SIZE;av++){var az=C(am,av);var i=aa(an,az);if(v[i]==0){if(al==-1||al==av){al=av}else{if(ak==-1||ak==av){ak=av}}ao++}}if(ao==2){for(var ay=an+1;ay<qqwing.ROW_COL_SEC_SIZE;ay++){var ai=-1;var ah=-1;var ap=0;for(var av=0;av<qqwing.ROW_COL_SEC_SIZE;av++){var az=C(am,av);var i=aa(ay,az);if(v[i]==0){if(ai==-1||ai==av){ai=av}else{if(ah==-1||ah==av){ah=av}}ap++}}if(ap==2&&al==ai&&ak==ah){var aj=false;for(var aw=0;aw<qqwing.ROW_COL_SEC_SIZE;aw++){if(aw!=an&&aw!=ay){var au=C(am,al);var ar=C(am,ak);var at=aa(aw,au);var aq=aa(aw,ar);if(v[at]==0){v[at]=ax;aj=true}if(v[aq]==0){v[aq]=ax;aj=true}}}if(aj){if(ae||k){D.call(this,new this.LogItem(ax,qqwing.LogType.HIDDEN_PAIR_SECTION,an+1,C(am,al)))}return true}}}}}}return false};var m=function(ao,au,ar){if(c[ao]!=0){throw ("Marking position that already has been marked.")}if(l[ao]!=0){throw ("Marking position that was marked another round.")}var av=ar-1;c[ao]=ar;var aw=aa(av,ao);if(v[aw]!=0){throw ("Marking impossible position.")}l[ao]=au;var ai=K(ao)*qqwing.ROW_COL_SEC_SIZE;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var ap=ai+ah;var aj=aa(av,ap);if(v[aj]==0){v[aj]=au}}var an=ag(ao);for(var am=0;am<qqwing.ROW_COL_SEC_SIZE;am++){var aq=an+(qqwing.ROW_COL_SEC_SIZE*am);var aj=aa(av,aq);if(v[aj]==0){v[aj]=au}}var al=N(ao);for(var am=0;am<qqwing.GRID_SIZE;am++){for(var ak=0;ak<qqwing.GRID_SIZE;ak++){var at=al+am+(qqwing.ROW_COL_SEC_SIZE*ak);var aj=aa(av,at);if(v[aj]==0){v[aj]=au}}}for(var av=0;av<qqwing.ROW_COL_SEC_SIZE;av++){var aj=aa(av,ao);if(v[aj]==0){v[aj]=au}}};var d=function(){var an=10;var am=0;for(var aj=0;aj<qqwing.BOARD_SIZE;aj++){var ah=ad[aj];if(c[ah]==0){var al=0;for(var ai=0;ai<qqwing.ROW_COL_SEC_SIZE;ai++){var ak=aa(ai,ah);if(v[ak]==0){al++}}if(al<an){an=al;am=ah}}}return am};var af=function(av){for(var ar=0;ar<qqwing.BOARD_SIZE;ar++){var ai=g(ar);if(ai==2){var aw=K(ar);var am=ag(ar);var au=N(ar);for(var al=ar;al<qqwing.BOARD_SIZE;al++){if(ar!=al){var aq=g(al);if(aq==2&&P(ar,al)){if(aw==K(al)){var ak=false;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var aj=j(aw,ah);if(aj!=ar&&aj!=al&&J(ar,aj,av)){ak=true}}if(ak){if(ae||k){D.call(this,new this.LogItem(av,qqwing.LogType.NAKED_PAIR_ROW,0,ar))}return true}}if(am==ag(al)){var ak=false;for(var at=0;at<qqwing.ROW_COL_SEC_SIZE;at++){var aj=j(at,am);if(aj!=ar&&aj!=al&&J(ar,aj,av)){ak=true}}if(ak){if(ae||k){D.call(this,new this.LogItem(av,qqwing.LogType.NAKED_PAIR_COLUMN,0,ar))}return true}}if(au==N(al)){var ak=false;var ap=N(ar);for(var ao=0;ao<qqwing.GRID_SIZE;ao++){for(var an=0;an<qqwing.GRID_SIZE;an++){var aj=ap+ao+(qqwing.ROW_COL_SEC_SIZE*an);if(aj!=ar&&aj!=al&&J(ar,aj,av)){ak=true}}}if(ak){if(ae||k){D.call(this,new this.LogItem(av,qqwing.LogType.NAKED_PAIR_SECTION,0,ar))}return true}}}}}}}return false};var g=function(i){var aj=0;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var ai=aa(ah,i);if(v[ai]==0){aj++}}return aj};var P=function(ai,i){for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var ak=aa(ah,ai);var aj=aa(ah,i);if((v[ak]==0||v[aj]==0)&&(v[ak]!=0||v[aj]!=0)){return false}}return true};var D=function(i){if(ae){i.print()}if(k){q.push(i);H.push(i)}};var r=function(){w(ad,qqwing.BOARD_SIZE);w(a,qqwing.ROW_COL_SEC_SIZE)};var Y=function(i){W(ab.call(this,i))};var ab=function(ai){var aj="";for(var ah=0;ah<qqwing.BOARD_SIZE;ah++){if(S==qqwing.PrintStyle.READABLE){aj+=" "}if(ai[ah]==0){aj+="."}else{aj+=ai[ah]}if(ah==qqwing.BOARD_SIZE-1){if(S==qqwing.PrintStyle.CSV){aj+=","}else{aj+="\n"}if(S==qqwing.PrintStyle.READABLE||S==qqwing.PrintStyle.COMPACT){aj+="\n"}}else{if(ah%qqwing.ROW_COL_SEC_SIZE==qqwing.ROW_COL_SEC_SIZE-1){if(S==qqwing.PrintStyle.READABLE||S==qqwing.PrintStyle.COMPACT){aj+="\n"}if(ah%qqwing.SEC_GROUP_SIZE==qqwing.SEC_GROUP_SIZE-1){if(S==qqwing.PrintStyle.READABLE){aj+="-------|-------|-------\n"}}}else{if(ah%qqwing.GRID_SIZE==qqwing.GRID_SIZE-1){if(S==qqwing.PrintStyle.READABLE){aj+=" |"}}}}}return aj};var G=function(){for(var ah=2;ah<=x;ah+=2){M.call(this,ah)}};var E=function(){for(var ah=0;ah<qqwing.BOARD_SIZE;ah++){z[ah]=0}O.call(this)};var b=function(i){W(ac(i))};var ac=function(ah){var aj="";if(!k){aj+="History was not recorded.";if(S==qqwing.PrintStyle.CSV){aj+=" -- "}else{aj+="\n"}}for(var ai=0;ai<ah.length;ai++){aj+=ai+1+". "+ah[ai].toString();if(S==qqwing.PrintStyle.CSV){aj+=" -- "}else{aj+="\n"}}if(S==qqwing.PrintStyle.CSV){aj+=","}else{aj+="\n"}return aj};var J=function(ai,i,aj){var am=false;for(var ah=0;ah<qqwing.ROW_COL_SEC_SIZE;ah++){var al=aa(ah,ai);var ak=aa(ah,i);if(v[al]==0&&v[ak]==0){v[ak]=aj;am=true}}return am};var w=function(am,aj){for(var ai=0;ai<aj;ai++){var ak=aj-ai;var al=Math.floor(Math.random()*ak)+ai;var ah=am[ai];am[ai]=am[al];am[al]=ah}};var n=function(){var i=Math.floor(Math.random()*4);switch(i){case 0:return qqwing.Symmetry.ROTATE90;case 1:return qqwing.Symmetry.ROTATE180;case 2:return qqwing.Symmetry.MIRROR;case 3:return qqwing.Symmetry.FLIP}throw ("Unexpected random value: "+i)};var s=function(ah,aj){var ak=0;for(var ai=0;ai<ah.length;ai++){if((ah[ai]).getType()==aj){ak++}}return ak};this.LogItem=function(al,aj,ai,an){var ah=al;var ak=aj;var am=ai;var i=an;this.getRound=function(){return ah};this.print=function(){L(this.toString())};this.getType=function(){return ak};this.getColumn=function(){if(i==-1){return -1}return ag(i)};this.getRow=function(){if(i==-1){return -1}return K(i)};this.getPosition=function(){return i};this.getValue=function(){return am};this.getDescription=function(){switch(this.getType()){case qqwing.LogType.GIVEN:return"Mark given";case qqwing.LogType.ROLLBACK:return"Roll back round";case qqwing.LogType.GUESS:return"Mark guess (start round)";case qqwing.LogType.HIDDEN_SINGLE_ROW:return"Mark single possibility for value in row";case qqwing.LogType.HIDDEN_SINGLE_COLUMN:return"Mark single possibility for value in column";case qqwing.LogType.HIDDEN_SINGLE_SECTION:return"Mark single possibility for value in section";case qqwing.LogType.SINGLE:return"Mark only possibility for cell";case qqwing.LogType.NAKED_PAIR_ROW:return"Remove possibilities for naked pair in row";case qqwing.LogType.NAKED_PAIR_COLUMN:return"Remove possibilities for naked pair in column";case qqwing.LogType.NAKED_PAIR_SECTION:return"Remove possibilities for naked pair in section";case qqwing.LogType.POINTING_PAIR_TRIPLE_ROW:return"Remove possibilities for row because all values are in one section";case qqwing.LogType.POINTING_PAIR_TRIPLE_COLUMN:return"Remove possibilities for column because all values are in one section";case qqwing.LogType.ROW_BOX:return"Remove possibilities for section because all values are in one row";case qqwing.LogType.COLUMN_BOX:return"Remove possibilities for section because all values are in one column";case qqwing.LogType.HIDDEN_PAIR_ROW:return"Remove possibilities from hidden pair in row";case qqwing.LogType.HIDDEN_PAIR_COLUMN:return"Remove possibilities from hidden pair in column";case qqwing.LogType.HIDDEN_PAIR_SECTION:return"Remove possibilities from hidden pair in section";default:return"!!! Performed unknown optimization !!!"}};this.toString=function(){var ao="Round: "+this.getRound()+" - ";ao+=this.getDescription();if(am>0||i>-1){ao+=" (";var ap=false;if(i>-1){if(ap){ao+=" - "}ao+="Row: "+(K(i)+1)+" - Column: "+(ag(i)+1);ap=true}if(am>0){if(ap){ao+=" - "}ao+="Value: "+am;ap=true}ao+=")"}return ao}};this.setPuzzle=function(ai){for(var ah=0;ah<qqwing.BOARD_SIZE;ah++){z[ah]=ai[ah]}return O.call(this)};this.printPuzzle=function(){return Y.call(this,z)};this.getPuzzleString=function(){return ab.call(this,z)};this.printSolution=function(){return Y.call(this,c)};this.getSolutionString=function(){return ab.call(this,c)};this.solve=function(i){if(!i||i<=1){O.call(this);r();return this.solve(2)}x=i;while(B.call(this,i)){if(this.isSolved()){return true}if(Q.call(this)){return false}}var ai=i+1;var aj=i+2;for(var ah=0;y.call(this,ai,ah);ah++){if(Q.call(this)||!this.solve(aj)){M.call(this,aj);M.call(this,ai)}else{return true}}return false};this.countSolutions=function(ai,an){if(!ai||ai<=1){var aj=k;this.setRecordHistory(false);var al=ae;this.setLogHistory(false);O.call(this);var ah=this.countSolutions(2,false);this.setRecordHistory(aj);this.setLogHistory(al);return ah}else{while(B.call(this,ai)){if(this.isSolved()){M.call(this,ai);return 1}if(Q.call(this)){M.call(this,ai);return 0}}var i=0;var am=ai+1;for(var ak=0;y.call(this,am,ak);ak++){i+=this.countSolutions(am,an);if(an&&i>=2){M.call(this,ai);return i}}M.call(this,ai);return i}};this.isSolved=function(){for(var ah=0;ah<qqwing.BOARD_SIZE;ah++){if(c[ah]==0){return false}}return true};this.getSolveHistory=function(){if(this.isSolved()){return q}else{return"No solve history - Puzzle is not possible to solve."}};this.getSolveHistoryString=function(){if(this.isSolved()){return ac.call(this,q)}else{return"No solve history - Puzzle is not possible to solve."}};this.printSolveHistory=function(){if(this.isSolved()){b(q)}else{L("No solve history - Puzzle is not possible to solve.")}};this.setRecordHistory=function(i){k=i};this.setLogHistory=function(i){ae=i};this.setPrintStyle=function(i){S=i};this.generatePuzzle=function(){return this.generatePuzzleSymmetry(qqwing.Symmetry.NONE)};this.generatePuzzleSymmetry=function(at){if(at==qqwing.Symmetry.RANDOM){at=n.call(this)}var ai=k;this.setRecordHistory(false);var ap=ae;this.setLogHistory(false);E.call(this);r.call(this);this.solve();if(at==qqwing.Symmetry.NONE){G.call(this)}for(var am=0;am<qqwing.BOARD_SIZE;am++){z[am]=c[am]}r.call(this);for(var am=0;am<qqwing.BOARD_SIZE;am++){var an=ad[am];if(z[an]>0){var ar=-1;var aq=-1;var ao=-1;switch(at){case qqwing.Symmetry.ROTATE90:aq=j(qqwing.ROW_COL_SEC_SIZE-1-ag(an),K(an));ao=j(ag(an),qqwing.ROW_COL_SEC_SIZE-1-K(an));case qqwing.Symmetry.ROTATE180:ar=j(qqwing.ROW_COL_SEC_SIZE-1-K(an),qqwing.ROW_COL_SEC_SIZE-1-ag(an));break;case qqwing.Symmetry.MIRROR:ar=j(K(an),qqwing.ROW_COL_SEC_SIZE-1-ag(an));break;case qqwing.Symmetry.FLIP:ar=j(qqwing.ROW_COL_SEC_SIZE-1-K(an),ag(an));break}var ah=z[an];z[an]=0;var al=0;if(ar>=0){al=z[ar];z[ar]=0}var ak=0;if(aq>=0){ak=z[aq];z[aq]=0}var aj=0;if(ao>=0){aj=z[ao];z[ao]=0}O.call(this);if(this.countSolutions(2,true)>1){z[an]=ah;if(ar>=0&&al!=0){z[ar]=al}if(aq>=0&&ak!=0){z[aq]=ak}if(ao>=0&&aj!=0){z[ao]=aj}}}}O.call(this);this.setRecordHistory(ai);this.setLogHistory(ap);return true};this.getGivenCount=function(){var ai=0;for(var ah=0;ah<qqwing.BOARD_SIZE;ah++){if(z[ah]!=0){ai++}}return ai};this.getSingleCount=function(){return s.call(this,H,qqwing.LogType.SINGLE)};this.getHiddenSingleCount=function(){return(s.call(this,H,qqwing.LogType.HIDDEN_SINGLE_ROW)+s.call(this,H,qqwing.LogType.HIDDEN_SINGLE_COLUMN)+s.call(this,H,qqwing.LogType.HIDDEN_SINGLE_SECTION))};this.getNakedPairCount=function(){return(s.call(this,H,qqwing.LogType.NAKED_PAIR_ROW)+s.call(this,H,qqwing.LogType.NAKED_PAIR_COLUMN)+s.call(this,H,qqwing.LogType.NAKED_PAIR_SECTION))};this.getHiddenPairCount=function(){return(s.call(this,H,qqwing.LogType.HIDDEN_PAIR_ROW)+s.call(this,H,qqwing.LogType.HIDDEN_PAIR_COLUMN)+s.call(this,H,qqwing.LogType.HIDDEN_PAIR_SECTION))};this.getBoxLineReductionCount=function(){return(s.call(this,H,qqwing.LogType.ROW_BOX)+s.call(this,H,qqwing.LogType.COLUMN_BOX))};this.getPointingPairTripleCount=function(){return(s.call(this,H,qqwing.LogType.POINTING_PAIR_TRIPLE_ROW)+s.call(this,H,qqwing.LogType.POINTING_PAIR_TRIPLE_COLUMN))};this.getGuessCount=function(){return s.call(this,H,qqwing.LogType.GUESS)};this.getBacktrackCount=function(){return s.call(this,q,qqwing.LogType.ROLLBACK)};this.getSolveInstructions=function(){if(this.isSolved()){return H}else{return"No solve instructions - Puzzle is not possible to solve."}};this.getSolveInstructionsString=function(){if(this.isSolved()){return ac.call(this,H)}else{return"No solve instructions - Puzzle is not possible to solve."}};this.printSolveInstructions=function(){if(this.isSolved()){b(H)}else{L("No solve instructions - Puzzle is not possible to solve.")}};this.getDifficulty=function(){if(this.getGuessCount()>0){return qqwing.Difficulty.EXPERT}if(this.getBoxLineReductionCount()>0){return qqwing.Difficulty.INTERMEDIATE}if(this.getPointingPairTripleCount()>0){return qqwing.Difficulty.INTERMEDIATE}if(this.getHiddenPairCount()>0){return qqwing.Difficulty.INTERMEDIATE}if(this.getNakedPairCount()>0){return qqwing.Difficulty.INTERMEDIATE}if(this.getHiddenSingleCount()>0){return qqwing.Difficulty.EASY}if(this.getSingleCount()>0){return qqwing.Difficulty.SIMPLE}return qqwing.Difficulty.UNKNOWN};this.getDifficultyAsString=function(){var i=this.getDifficulty();switch(i){case qqwing.Difficulty.EXPERT:return"Expert";case qqwing.Difficulty.INTERMEDIATE:return"Intermediate";case qqwing.Difficulty.EASY:return"Easy";case qqwing.Difficulty.SIMPLE:return"Simple";default:return"Unknown"}}};qqwing.PrintStyle={ONE_LINE:0,COMPACT:1,READABLE:2,CSV:3};qqwing.Difficulty={UNKNOWN:0,SIMPLE:1,EASY:2,INTERMEDIATE:3,EXPERT:4};qqwing.Symmetry={NONE:0,ROTATE90:1,ROTATE180:2,MIRROR:3,FLIP:4,RANDOM:5};qqwing.LogType={GIVEN:0,SINGLE:1,HIDDEN_SINGLE_ROW:2,HIDDEN_SINGLE_COLUMN:3,HIDDEN_SINGLE_SECTION:4,GUESS:5,ROLLBACK:6,NAKED_PAIR_ROW:7,NAKED_PAIR_COLUMN:8,NAKED_PAIR_SECTION:9,POINTING_PAIR_TRIPLE_ROW:10,POINTING_PAIR_TRIPLE_COLUMN:11,ROW_BOX:12,COLUMN_BOX:13,HIDDEN_PAIR_ROW:14,HIDDEN_PAIR_COLUMN:15,HIDDEN_PAIR_SECTION:16};qqwing.GRID_SIZE=3;qqwing.ROW_COL_SEC_SIZE=qqwing.GRID_SIZE*qqwing.GRID_SIZE;qqwing.SEC_GROUP_SIZE=qqwing.ROW_COL_SEC_SIZE*qqwing.GRID_SIZE;qqwing.BOARD_SIZE=qqwing.ROW_COL_SEC_SIZE*qqwing.ROW_COL_SEC_SIZE;qqwing.POSSIBILITY_SIZE=qqwing.BOARD_SIZE*qqwing.ROW_COL_SEC_SIZE;